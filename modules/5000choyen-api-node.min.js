const host={origin:"https://gsapi.cyberrex.jp/image"};module.exports=async(top="",option={})=>{let word=[top||"5000兆円","欲しい！"];const topSplit=top.split(/\r?\n/g);topSplit.length>=2&&(word[0]=topSplit[0].slice(0,50),word[1]=topSplit[1].slice(0,50)),word.forEach((key,index)=>{word[index]=word[index].replace(/\?/g,"？").replace(/\&/g,"＆").replace(/\#/g,"＃").replace(/\./g,"．").replace(/\,/g,"，").replace(/\(/g,"（").replace(/\)/g,"）").replace(/\{/g,"｛").replace(/\}/g,"｝").replace(/\[/g,"［").replace(/\]/g,"］")});let optionText="",api=host.origin,single=0;return option.rainbow&&(optionText+="&rainbow=true"),option.hoshii&&(optionText+="&hoshii=true"),option.singletop^option.singlebottom&&(option.singletop&&(single=1),option.singlebottom&&(single=2)),option.originhost&&(api=host.origin),1==single?`${api}?top=${encodeURI(word[0])}${optionText}&single=true`:2==single?(top||(word[0]="欲しい！"),`${api}?bottom=${encodeURI(word[0])}${optionText}&single=true`):`${api}?top=${encodeURI(word[0])}&bottom=${encodeURI(word[1])}${optionText}`};